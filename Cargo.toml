[workspace]
members = ["musqlite", "musqlite-macros", "musqlite-test", "musqlite-macros2"]

[workspace.package]
version = "0.0.1"
license = "MIT"
edition = "2021"
repository = "https://github.com/cortesi/musqlite"
keywords = ["database", "async", "sqlite"]
categories = ["database", "asynchronous"]
authors = ["Aldo Cortesi <aldo@corte.si>"]

[package]
name = "tests"
version.workspace = true
edition.workspace = true

[workspace.dependencies]
musqlite = { path = "musqlite" }
musqlite-macros-core = { path = "musqlite-macros-core" }
musqlite-macros = { path = "musqlite-macros" }

[dependencies]
musqlite = { workspace = true }
musqlite-macros = { workspace = true }

[dev-dependencies]
anyhow = "1.0.52"
time_ = { version = "0.3.2", package = "time" }
futures = "0.3.19"
env_logger = "0.10.0"
tokio = { version = "1.15.0", features = ["full"] }
trybuild = "1.0.53"
musqlite-test = { path = "./musqlite-test" }
paste = "1.0.6"
serde = { version = "1.0.132", features = ["derive"] }
serde_json = "1.0.73"
url = "2.2.2"
rand = "0.8.4"
rand_xoshiro = "0.6.0"
hex = "0.4.3"
tempdir = "0.3.7"
criterion = { version = "0.5", features = ["async_tokio"] }
libsqlite3-sys = { version = "0.26", features = [
    "pkg-config",
    "vcpkg",
    "bundled",
    "unlock_notify",
    "bundled-sqlcipher",
] }
pprof = { version = "0.13.0", features = ["flamegraph", "criterion"] }

[[bench]]
name = "benchmark"
harness = false
